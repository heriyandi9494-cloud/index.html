<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Pendiri Himpunan Dayak Sawe</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: #f9fafb;
    color: #333;
    margin: 40px;
  }

  h1 {
    text-align: center;
    color: #006400;
    margin-bottom: 20px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    background: white;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  th, td {
    border: 1px solid #ccc;
    padding: 12px;
    text-align: center;
  }

  th {
    background: #2e8b57;
    color: white;
  }

  tr:nth-child(even) {
    background: #f2f2f2;
  }

  form {
    margin-bottom: 20px;
    background: #e8f5e9;
    padding: 15px;
    border-radius: 10px;
  }

  input {
    padding: 8px;
    margin: 5px;
    border-radius: 6px;
    border: 1px solid #ccc;
  }

  button {
    padding: 10px 18px;
    background-color: #2e8b57;
    border: none;
    color: white;
    font-weight: bold;
    cursor: pointer;
    border-radius: 8px;
    margin: 2px;
  }

  button:hover {
    background-color: #1f6d41;
  }

  #cari {
    width: 300px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #888;
    margin-bottom: 15px;
  }

  .edit-btn {
    background-color: #ffa500;
  }

  .edit-btn:hover {
    background-color: #e69500;
  }
</style>
</head>
<body>

<h1>DAFTAR NAMA PENDIRI HIMPUNAN DAYAK SAWE</h1>

<form id="pendiriForm">
  <input type="text" id="nama" placeholder="Nama Pendiri" required>
  <input type="text" id="asal" placeholder="Asal" required>
  <input type="text" id="kampus" placeholder="Asal Kampus" required>
  <button type="submit">Tambah Data</button>
</form>

<!-- Kolom pencarian -->
<input type="text" id="cari" placeholder="ðŸ” Cari nama, asal, atau kampus...">

<table id="tabelPendiri">
  <thead>
    <tr>
      <th>NO</th>
      <th>NAMA</th>
      <th>ASAL</th>
      <th>ASAL KAMPUS</th>
      <th>Aksi</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
let dataPendiri = JSON.parse(localStorage.getItem('dataPendiri')) || [];
const form = document.getElementById('pendiriForm');
const tabel = document.querySelector('#tabelPendiri tbody');
const cariInput = document.getElementById('cari');
let editIndex = -1; // menandai index yang sedang diedit

// Fungsi render tabel
function renderTabel(filter = "") {
  tabel.innerHTML = '';

  let hasilFilter = dataPendiri.filter(item =>
    item.nama.toLowerCase().includes(filter) ||
    item.asal.toLowerCase().includes(filter) ||
    item.kampus.toLowerCase().includes(filter)
  );

  hasilFilter.forEach((item, index) => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${index + 1}</td>
      <td>${item.nama}</td>
      <td>${item.asal}</td>
      <td>${item.kampus}</td>
      <td>
        <button class="edit-btn" onclick="editData(${index})">ðŸ–‰</button>
        <button onclick="hapusData(${index})">Hapus</button>
      </td>
    `;
    tabel.appendChild(row);
  });
}

// Tambah data baru atau simpan edit
form.addEventListener('submit', function(e) {
  e.preventDefault();
  const nama = document.getElementById('nama').value;
  const asal = document.getElementById('asal').value;
  const kampus = document.getElementById('kampus').value;

  if(editIndex === -1){
    // Tambah data baru
    dataPendiri.push({nama, asal, kampus});
  } else {
    // Simpan hasil edit
    dataPendiri[editIndex] = {nama, asal, kampus};
    editIndex = -1;
    form.querySelector('button').textContent = 'Tambah Data';
  }

  localStorage.setItem('dataPendiri', JSON.stringify(dataPendiri));
  form.reset();
  renderTabel();
});

// Hapus data
function hapusData(index) {
  if(confirm('Yakin ingin menghapus data ini?')){
    dataPendiri.splice(index, 1);
    localStorage.setItem('dataPendiri', JSON.stringify(dataPendiri));
    renderTabel();
  }
}

// Edit data
function editData(index){
  const item = dataPendiri[index];
  document.getElementById('nama').value = item.nama;
  document.getElementById('asal').value = item.asal;
  document.getElementById('kampus').value = item.kampus;
  editIndex = index;
  form.querySelector('button').textContent = 'Simpan Edit';
}

// Fitur pencarian langsung
cariInput.addEventListener('input', function(){
  const keyword = this.value.toLowerCase();
  renderTabel(keyword);
});

// Render tabel saat halaman dibuka
renderTabel();
</script>

</body>
</html>
